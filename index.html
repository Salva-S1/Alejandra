<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para ti ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&display=swap" rel="stylesheet">

<style>
    /* üé® CSS actualizado */
    body {
        margin: 0;
        overflow: hidden;
        background: url("FONDO.jpg");
        background-size: cover;
        background-position: center;
        font-family: 'Montserrat', sans-serif;
        color: yellow;
        text-transform: uppercase;
    }

    /* Animaci√≥n de vibraci√≥n */
    @keyframes shake {
        0% { transform: translate(0,0) rotate(0deg); }
        25% { transform: translate(1px,0) rotate(2deg); }
        50% { transform: translate(0,0) rotate(0deg); }
        75% { transform: translate(-1px,0) rotate(-2deg); }
        100% { transform: translate(0,0) rotate(0deg); }
    }

    /* Texto central (subt√≠tulos) - SOLUCIONADO: CENTRADO PERFECTO */
    #centralText {
        position: absolute;
        top: 50%; /* ‚ú® Ajustado a 50% */
        left: 50%;
        transform: translate(-50%, -50%); /* ‚ú® Ajustado para centrado completo (X e Y) */
        font-size: 34px;
        text-align: center;
        width: 80%;
        color: yellow;
        text-shadow: 0 0 10px yellow, 0 0 20px yellow;
        font-weight: 800;
        display: none;
        animation: glowCenter 3s infinite ease-in-out;
    }

    @keyframes glowCenter {
        0% { text-shadow: 0 0 10px yellow; }
        50% { text-shadow: 0 0 22px yellow; }
        100% { text-shadow: 0 0 10px yellow; }
    }

    /* Pantallas iniciales */
    .screen {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        font-size: 28px;
        font-weight: 600;
    }

    /* Botones */
    .btn {
        margin-top: 20px;
        padding: 15px 40px;
        font-size: 26px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        margin: 10px;
        transition: 0.2s;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
    }

    .btn:hover {
        transform: scale(1.05);
    }

    /* Lluvia */
    .falling {
        position: absolute;
        font-size: 20px;
        font-weight: 600;
        animation: fall linear forwards, glow 2.5s infinite ease-in-out;
        user-select: none;
        filter: blur(0.5px);
    }

    @keyframes fall {
        0% { transform: translateY(-10vh); opacity: 1; }
        100% { transform: translateY(120vh); opacity: 0; }
    }

    @keyframes glow {
        0% { opacity: 0.6; }
        50% { opacity: 1; }
        100% { opacity: 0.6; }
    }
</style>
</head>
<body>

<audio id="music" loop>
    <source src="TU_CANCION.mp3" type="audio/mpeg">
</audio>

<div id="screen1" class="screen">
    <div>Hola amor, feliz cumplea√±os<br>¬øsabes que te amo demasiado?</div>
    <br>
    <button id="btnSi" class="btn" style="background:white; color:black;">S√≠</button>
    <button id="btnNo" class="btn" style="background:white; color:black;">No</button>
</div>

<div id="screen2" class="screen" style="display:none;">
    <div>M√°s te vale grosera</div>
    <br>
    <button id="btnAmor" class="btn" style="background:white; color:black;">Te amo</button>
</div>

<div id="centralText"></div>

<script>

/* üîä La m√∫sica empieza autom√°ticamente */
window.addEventListener("load", () => {
    const music = document.getElementById("music");
    music.volume = 0.8;
    music.play().catch(() => {
        // Algunos navegadores necesitan interacci√≥n para iniciar
        document.body.addEventListener("click", () => music.play(), { once: true });
    });
});

let lluviaActiva = false;
let intervalLluvia = null;

/* Colores pastel */
const coloresPastel = [
    "#FFB7C5", "#FFD1DC", "#FFDFBA", "#FFF5BA",
    "#BAFFC9", "#BAE1FF", "#E3BAFF", "#FFC8A2"
];

const frases = [
    "Te amo", "Eres mi alegr√≠a", "Guapa", "Mi cielo", "Preciosa",
    "Bella", "Hermosa", "Te quiero", "Mi todo",
    "‚ù§Ô∏è", "üíñ", "‚ú®", "üå∏", "üíï", "üåô"
];

/* üü° JavaScript corregido: bot√≥n ‚ÄúS√≠‚Äù ya no se va, crece solo horizontal */
let siSize = 26;

document.getElementById("btnNo").addEventListener("click", () => {
    siSize += 8;

    const btnSi = document.getElementById("btnSi");

    // Crece solo hacia los lados, ya no hacia arriba/abajo
    btnSi.style.fontSize = siSize + "px";
    btnSi.style.padding = "15px " + (40 + siSize) + "px";

    // Cuando est√° grande, empieza a vibrar
    if (siSize >= 50) {
        btnSi.style.animation = "shake 0.15s infinite";
    }

    // L√≠mite para que no explote
    if (siSize > 90) siSize = 90;
});

/* S√≠ ‚Üí pantalla 2 */
document.getElementById("btnSi").addEventListener("click", () => {
    document.getElementById("screen1").style.display = "none";
    document.getElementById("screen2").style.display = "block";
});

/* Te amo ‚Üí iniciar animaci√≥n */
document.getElementById("btnAmor").addEventListener("click", () => {
    document.getElementById("screen2").style.display = "none";
    iniciarAnimacion();
});

/* INICIA la parte bonita */
function iniciarAnimacion() {
    document.getElementById("centralText").style.display = "block";
    lluviaActiva = true;
    intervalLluvia = setInterval(crearFrase, 250);
    escribir();
}

/* Lluvia */
function crearFrase() {
    if (!lluviaActiva) return;

    const frase = document.createElement("div");
    frase.className = "falling";

    frase.textContent = frases[Math.floor(Math.random() * frases.length)];
    frase.style.color = coloresPastel[Math.floor(Math.random() * coloresPastel.length)];
    frase.style.textShadow = `0 0 10px ${frase.style.color}, 0 0 22px ${frase.style.color}`;

    frase.style.left = Math.random() * 100 + "vw";
    frase.style.top = "-10vh";
    frase.style.animationDuration = (2 + Math.random() * 3) + "s";

    document.body.appendChild(frase);
    setTimeout(() => frase.remove(), 5000);
}

/* Subt√≠tulos */
const subtitulos = [
    "Hola amor...",
    "Te hice esto con mucho cari√±o.",
    "Solo quer√≠a decirte algo bonito...",
    "Gracias por estar conmigo.",
    "Eres lo mejor que me ha pasado.",
    "Te quiero m√°s de lo que imaginas ‚ù§Ô∏è"
];

let indexTexto = 0;
let indexLetra = 0;
let velocidad = 70;

function escribir() {
    const div = document.getElementById("centralText");

    if (indexTexto < subtitulos.length) {
        let fraseActual = subtitulos[indexTexto];
        div.innerHTML = fraseActual.substring(0, indexLetra);

        if (indexLetra < fraseActual.length) {
            indexLetra++;
        } else {
            indexTexto++;
            indexLetra = 0;
            setTimeout(escribir, 1200);
            return;
        }

        setTimeout(escribir, velocidad);
    }
}
</script>

</body>
</html>
